## 编写法术

法术由指令组成，一句话（以句号结尾）为一条指令。

一个法术可以由多个指令组成。

法术复杂度与法术单词量线性相关。

现在只能用英语写，未来可能增加拉丁文、古汉语、藏语、梵语、鲁尼文、希伯来语等语言。

单词的格、性、单复数不做区分。

一共有三种量：实体、位置、数量。

将实体传入一个位置参数时，会将其位置传入语句。

### 可用指令

启动式

- [ ] Place: 放置方块、陷阱

  - place \<类型> \[at 从句] 
  - place trap <陷阱效果> [at 从句]
  - 类型：
    - block：放置快捷栏中施法手套右边的方块到 at 从句指定的位置，若没有 at 从句，则放置到自身所在位置
    - luminator：放置光源
    - virtual-block：虚拟方块
  - 陷阱效果：
    - triggered by <实体选择器>：触发条件，必须是实体
    - cast <一个启动式指令>：触发后执行的法术

- [x] summon：召唤法球

  - summon [方向：towards 从句] [with speed <速度>] <执行的法术字符串> [持续性法术最大执行次数]
  
- [x] effect：给实体增加 buff / debuff

  - effect <实体选择器> \<buff> [\<强度> and duration of <时间>]

  - 可用 buff 列表：

  - | buff     | 描述 | 基础消耗 |
    | -------- | ---- | -------- |
    | 生命回复 |      | 100      |
    | 夜视     |      | 10       |
    | 抗火     |      | 60       |
    | 水肺     |      | 60       |
    | 速度     |      | 40       |
    | 跳跃提升 |      | 60       |
    | 凋零     |      | 150      |
    | 失明     |      | 150      |

    

- [ ] enchant：给物品临时附魔

  - enchant \<sword | helmet | chestplate | leggings | boots | pickaxe | axe | bow | hoe | shovel> \<附魔> <等级> <时长>

- [x] grab：移动实体、方块，持续性施法

  - grab <目标> with max power of <数字> \<hold | accelerate towards 从句>
  - 用 with max power of 选项限制能抓握的最大物体硬度和碰撞箱体积
  - hold 表示消除重力
  - towards 从句表示抓住后加速的方向
  - 目标必须为一个实体（使用实体选择器）或者一个方块（block + at 从句）
  - grab 的魔耗和目标实体的碰撞箱体积正相关，和方块硬度成正相关
  
- [ ] inject：注入魔法，持续性施法



处理语句

- [x] Make 用于设置一个常量
  - 语法：make <变量名> <位置 | 实体选择器>
  - Let 语句中的启动式不会被执行



选择语句

- [ ] 位置从句：表示一个位置，可以是实体或者位置，一般用 at 来引导，有 at 引导时又称 at 从句
  - at \<x> \<y> \<z>：相对于法球的坐标
  - at <实体选择器>：此时返回实体所在的位置
- [ ] Towards 从句：设置一个方向，后面可以接实体或相对位置
  - towards \<实体选择器>
  - towards \<x> \<y> \<z>
  - 用于获取从施法位置指向目标位置 | 实体的向量
- [ ] 实体选择器：用于选择一个或多个实体，只用于需要出现实体选择器的情况
  - 实体类别： ally | enemy | entity | item | passive | player | projectile
  - nearest \[n] \<实体类别> to \<位置从句>：获取离某位置最近的 n 个实体
  - me ：指代发出法术的实体
  - <实体类别 | position> <实体选择器> \<合适的 be 动词> looking at：获取实体选择器视线所指的实体 | 位置